(this.webpackJsonptglfront=this.webpackJsonptglfront||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(34)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(15),o=a.n(c),r=(a(22),a(5)),i=a(1),s=(a(23),a(24),function(e){var t=(new Date).getFullYear();return l.a.createElement("div",{id:"addTaskDiv"},l.a.createElement("form",{onSubmit:e.handleSubmit,method:"POST",id:"taskForm"},l.a.createElement("label",{for:"taskname",className:"txtLabels"},"Task Name:"),l.a.createElement("input",{type:"text",id:"taskname",placeholder:"Clean garage",required:!0}),l.a.createElement("label",{for:"taskdesc",className:"txtLabels"},"Description:"),l.a.createElement("textarea",{id:"taskdesc",placeholder:"(optional)"}),l.a.createElement("label",{for:"taskdate",className:"txtLabels"},"Date:"),l.a.createElement("div",{id:"taskdate"},l.a.createElement("input",{type:"number",min:"1",max:"31",placeholder:"DD",id:"dateD"}),"/",l.a.createElement("input",{type:"number",min:"1",max:"12",placeholder:"MM",id:"dateM"}),"/",l.a.createElement("input",{type:"number",min:t,max:"2099",placeholder:"YYYY",id:"dateY"})),l.a.createElement("label",{for:"tasktime",className:"txtLabels"},"Time:"),l.a.createElement("div",{id:"tasktime"},l.a.createElement("input",{type:"number",min:"0",max:"23",placeholder:"HH",id:"timeH"}),":",l.a.createElement("input",{type:"number",min:"0",max:"59",placeholder:"MM",id:"timeM"})),l.a.createElement("button",{type:"submit",id:"addBtn"},"Add!")))}),m=(a(25),function(e){var t=Object(n.useState)([]),a=Object(r.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!1),m=Object(r.a)(i,2),u=m[0],d=m[1];Object(n.useEffect)((function(){fetch("api/tasks/".concat(e.user)).then((function(e){return e.json()})).then((function(e){return o(e)}))}),[e.user]);var p=function(){fetch("api/tasks/".concat(e.user)).then((function(e){return e.json()})).then((function(e){return o(e)}))},g=function(e){var t=parseInt(e.target.id);fetch("api/task/u/complete",{mode:"cors",method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({taskid:t})}).then((function(e){200===e.status?p():console.log("error: "+e.status)}))};return l.a.createElement("div",{id:"taskDiv"},l.a.createElement("h4",null,"Welcome back, ",e.uname),l.a.createElement("div",{id:"taskContainer"},c.length>0?[c.map((function(e){return l.a.createElement("div",{key:e.Tid,className:"task"},l.a.createElement("div",{className:"taskHeader"},l.a.createElement("h4",{className:"taskTitle"},e.Tname),l.a.createElement("p",{id:e.Tid,className:"compBtn",onClick:g},"X")),l.a.createElement("div",{className:"taskDesc"},e.Tdesc))}))]:l.a.createElement("p",null,"No tasks set"),l.a.createElement("p",{id:"addTaskBtn",onClick:function(){d(!u)}},"New Task"),u?l.a.createElement(s,{handleSubmit:function(t){t.preventDefault();var a=e.user,n=document.getElementById("taskname").value,l=function(){var e=document.getElementById("taskdesc").value;return""===e?"none":e}(),c=function(){var e,t,a,n=document.getElementById("dateD").value,l=document.getElementById("dateM").value,c=document.getElementById("dateY").value;return e=1===n.length?"0"+n:n,t=1===l.length?"0"+l:l,a=1===c.length?"0"+c:c,""===e||""===t||""===a?"none":a+t+e}(),o=function(){var e,t,a=document.getElementById("timeH").value;console.log(typeof a);var n=document.getElementById("timeM").value;e=1===a.length?"0"+a:a,t=1===n.length?"0"+n:n;var l=(e=""===a?"00":e)+(t=""===n?"00":t)+"00";return 0===parseInt(l)?"none":l}();fetch("api/newtask",{mode:"cors",method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({userid:a,taskname:n,taskdesc:l,taskdate:c,tasktime:o})}).then((function(e){200===e.status?(document.getElementById("taskForm").reset(),d(!1),p()):console.log("error: "+e.status)}))}}):null))}),u=(a(26),function(e){return l.a.createElement("div",{id:"loginDiv"},l.a.createElement("form",{onSubmit:e.handleLogin,method:"POST",id:"loginForm"},l.a.createElement("input",{type:"text",id:"u_email",placeholder:"someone@organised.com",pattern:"[a-zA-Z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*",required:!0}),l.a.createElement("input",{type:"password",id:"u_pass",placeholder:"password",required:!0}),l.a.createElement("button",{type:"submit",id:"loginBtn"},"Log in")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("p",null,"Don't have an account? ",l.a.createElement("span",{onClick:e.toggleSignup,id:"clickHere"},"click here")," to sign up"))}),d=(a(27),function(e){var t=Object(n.useState)("i"),a=Object(r.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)("o"),s=Object(r.a)(i,2),m=s[0],u=s[1];Object(n.useEffect)((function(){}),[c,m]);return l.a.createElement("div",{id:"signupDiv"},l.a.createElement("p",null,"Fill in the fields below"),l.a.createElement("form",{id:"signupForm",onSubmit:function(t){t.preventDefault();var a=document.getElementById("username").value,n=document.getElementById("email").value,l=document.getElementById("pass").value;fetch("api/newacc",{mode:"cors",method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({name:a,pass:l,email:n})}).then((function(t){200===t.status?(console.log("congrats"),document.getElementById("signupForm").reset(),e.resetHome()):console.log("error: "+t.status)}))},method:"POST"},l.a.createElement("input",{type:"text",id:"username",className:"signupItem",placeholder:"First Name",required:!0}),l.a.createElement("input",{type:"text",id:"email",className:"signupItem",placeholder:"Email",pattern:"[a-zA-Z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*",required:!0}),l.a.createElement("input",{minLength:"8",type:"password",id:"pass",className:"signupItem",placeholder:"Password",required:!0,onChange:function(e){o(e.target.value)}}),l.a.createElement("input",{type:"password",minLength:"8",id:"rpass",className:"signupItem",placeholder:"Confirm Password",required:!0,onChange:function(e){u(e.target.value)}}),l.a.createElement("button",{type:"submit",id:"signupBtn"},"Sign Up"),l.a.createElement("table",{id:"passTable"},l.a.createElement("tr",null,l.a.createElement("td",{className:"passTxt"},"Passwords match :"),l.a.createElement("td",{className:"passVal"},(""===c&&o("i"),""===m&&u("o"),c===m?"\ud83d\ude00":"\ud83d\ude41"))),l.a.createElement("tr",null,l.a.createElement("td",{className:"passTxt"},"Contain number(s) :"),l.a.createElement("td",{className:"passVal"},/\d/.test(c)|/\d/.test(m)?"\ud83d\ude00":"\ud83d\ude41")))),l.a.createElement("div",null),l.a.createElement("br",null),l.a.createElement("p",{onClick:e.toggleLogin,id:"clickLogin"},"back to log in"))}),p=(a(28),function(e){return e.loginState?l.a.createElement(u,e):e.signupState?l.a.createElement(d,e):l.a.createElement("div",{id:"homeDiv"},l.a.createElement("div",{id:"homeTxt"},l.a.createElement("p",null,"Welcome to ToGoList!")," ",l.a.createElement("br",null),l.a.createElement("p",null,"A task manager app to help you keep track of your work!"),l.a.createElement("br",null),e.loggedIn?null:l.a.createElement("p",null,"Are you ready to become more organised? Click below to get started:"),l.a.createElement("br",null)),e.loggedIn?null:l.a.createElement("button",{onClick:e.toggleSignup,id:"signupBtn"},"Organise Me!"))}),g=function(){var e=Object(n.useState)("false"),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(0),s=Object(r.a)(o,2),u=s[0],d=s[1],g=Object(n.useState)(""),E=Object(r.a)(g,2),f=E[0],h=E[1],b=Object(n.useState)(!1),k=Object(r.a)(b,2),v=k[0],y=k[1],I=Object(n.useState)(!1),S=Object(r.a)(I,2),j=S[0],N=S[1];Object(n.useEffect)((function(){D()}),[a]);var O=function(){N(!1),y(!v)},x=function(){y(!1),N(!j)},T=function(){N(!1),y(!1)},w=Object(i.g)(),B=function(){T(),w.push("/")},C=function(){w.push("/tasks")},D=function(){var e=localStorage.getItem("loggedIn"),t=localStorage.getItem("userId"),a=localStorage.getItem("userName");c(e),d(t),h(a)},L=function(){localStorage.clear(),D(),B()};return l.a.createElement("div",{id:"App"},l.a.createElement("nav",null,l.a.createElement("h3",{id:"title",onClick:B},"ToGoList"),a?[l.a.createElement("ul",{className:"navMain",key:"x"},l.a.createElement("li",{className:"navItem",key:"1",onClick:C},"Tasks"),l.a.createElement("li",{className:"navItem",key:"2",onClick:L},"Log Out"))]:[l.a.createElement("ul",{className:"navMain",key:"y"},l.a.createElement("li",{className:"navItem",key:"4",onClick:x},"Sign Up"),l.a.createElement("li",{className:"navItem",key:"3",onClick:O},"Log In"))]),l.a.createElement(i.d,null,l.a.createElement(i.b,{exact:!0,path:"/",children:l.a.createElement(p,{handleLogin:function(e){e.preventDefault();var t,a=document.getElementById("u_email").value,n=document.getElementById("u_pass").value;console.dir({email:a,"e-type":typeof a,pass:n,"p-type":typeof n}),fetch("api/login",{mode:"cors",method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({email:a,pass:n})}).then((function(e){return t=e.status,e.json()})).then((function(e){200===t&&(console.log(e),localStorage.setItem("loggedIn","true"),localStorage.setItem("userId",e.userid),localStorage.setItem("userName",e.username),D(),C(),T())}))},loggedIn:a,resetHome:T,loginState:v,signupState:j,toggleSignup:x,toggleLogin:O})}),l.a.createElement(i.b,{path:"/tasks",children:a?l.a.createElement(m,{user:u,uname:f,logOut:L,homePage:B}):l.a.createElement(i.a,{to:"/"})})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=a(10);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(E.a,null,l.a.createElement(g,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[17,1,2]]]);
//# sourceMappingURL=main.877fe2c6.chunk.js.map